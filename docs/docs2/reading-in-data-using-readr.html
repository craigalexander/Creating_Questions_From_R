<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.4 Reading in data using readr | Visualising Data using R</title>
  <meta name="description" content="This short introductory module provides an introduction to using R and how to visualise data within R." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="3.4 Reading in data using readr | Visualising Data using R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This short introductory module provides an introduction to using R and how to visualise data within R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.4 Reading in data using readr | Visualising Data using R" />
  
  <meta name="twitter:description" content="This short introductory module provides an introduction to using R and how to visualise data within R." />
  

<meta name="author" content="Craig Alexander, Eilidh Jack &amp; Marnie Low" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tibbles.html"/>
<link rel="next" href="efficient-data-manipulation-using-dplyr.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="the-ggplot2-package.html"><a href="the-ggplot2-package.html"><i class="fa fa-check"></i><b>1.1</b> The <code>ggplot2</code> package</a></li>
<li class="chapter" data-level="1.2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>1.2</b> Data</a></li>
<li class="chapter" data-level="1.3" data-path="libraries.html"><a href="libraries.html"><i class="fa fa-check"></i><b>1.3</b> Libraries</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setting-up-r.html"><a href="setting-up-r.html"><i class="fa fa-check"></i><b>2.1</b> Setting up R</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="setting-up-r.html"><a href="setting-up-r.html#downloading-and-installing-r-for-windows"><i class="fa fa-check"></i><b>2.1.1</b> Downloading and installing R for Windows</a></li>
<li class="chapter" data-level="2.1.2" data-path="setting-up-r.html"><a href="setting-up-r.html#downloading-and-installing-r-for-mac"><i class="fa fa-check"></i><b>2.1.2</b> Downloading and installing R for Mac</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>2.2</b> RStudio</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rstudio.html"><a href="rstudio.html#installing-rstudio-for-windowsmac"><i class="fa fa-check"></i><b>2.2.1</b> Installing RStudio for Windows/Mac</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>2.3</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="efficient-data-management-in-r.html"><a href="efficient-data-management-in-r.html"><i class="fa fa-check"></i><b>3</b> Efficient Data Management in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>3.1</b> Tidyverse</a></li>
<li class="chapter" data-level="3.2" data-path="pipelines.html"><a href="pipelines.html"><i class="fa fa-check"></i><b>3.2</b> Pipelines</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="pipelines.html"><a href="pipelines.html#task"><i class="fa fa-check"></i><b>3.2.1</b> Task</a></li>
<li class="chapter" data-level="3.2.2" data-path="pipelines.html"><a href="pipelines.html#solution"><i class="fa fa-check"></i><b>3.2.2</b> Solution</a></li>
<li class="chapter" data-level="3.2.3" data-path="pipelines.html"><a href="pipelines.html#task-1"><i class="fa fa-check"></i><b>3.2.3</b> Task</a></li>
<li class="chapter" data-level="3.2.4" data-path="pipelines.html"><a href="pipelines.html#answer"><i class="fa fa-check"></i><b>3.2.4</b> Answer</a></li>
<li class="chapter" data-level="3.2.5" data-path="pipelines.html"><a href="pipelines.html#additional-resources"><i class="fa fa-check"></i><b>3.2.5</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>3.3</b> Tibbles</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles"><i class="fa fa-check"></i><b>3.3.1</b> Creating tibbles</a></li>
<li class="chapter" data-level="3.3.2" data-path="tibbles.html"><a href="tibbles.html#working-with-tibbles"><i class="fa fa-check"></i><b>3.3.2</b> Working with tibbles</a></li>
<li class="chapter" data-level="3.3.3" data-path="tibbles.html"><a href="tibbles.html#subsetting-tibbles-always-results-in-a-tibble"><i class="fa fa-check"></i><b>3.3.3</b> Subsetting tibbles always results in a tibble</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="reading-in-data-using-readr.html"><a href="reading-in-data-using-readr.html"><i class="fa fa-check"></i><b>3.4</b> Reading in data using readr</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="reading-in-data-using-readr.html"><a href="reading-in-data-using-readr.html#task-2"><i class="fa fa-check"></i><b>3.4.1</b> Task</a></li>
<li class="chapter" data-level="3.4.2" data-path="reading-in-data-using-readr.html"><a href="reading-in-data-using-readr.html#answer-1"><i class="fa fa-check"></i><b>3.4.2</b> Answer</a></li>
<li class="chapter" data-level="3.4.3" data-path="reading-in-data-using-readr.html"><a href="reading-in-data-using-readr.html#specifying-column-types"><i class="fa fa-check"></i><b>3.4.3</b> Specifying column types</a></li>
<li class="chapter" data-level="3.4.4" data-path="reading-in-data-using-readr.html"><a href="reading-in-data-using-readr.html#additional-resources-1"><i class="fa fa-check"></i><b>3.4.4</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html"><i class="fa fa-check"></i><b>3.5</b> Efficient data manipulation using dplyr</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#overview-the-key-functions-verbs-for-dplyr"><i class="fa fa-check"></i><b>3.5.1</b> Overview: the key functions (“verbs”) for <code>dplyr</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#selecting-observations-rows-using-filter-and-slice"><i class="fa fa-check"></i><b>3.5.2</b> Selecting observations (rows) using <code>filter</code> and <code>slice</code></a></li>
<li class="chapter" data-level="3.5.3" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#task-3"><i class="fa fa-check"></i><b>3.5.3</b> Task</a></li>
<li class="chapter" data-level="3.5.4" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#answer-2"><i class="fa fa-check"></i><b>3.5.4</b> Answer</a></li>
<li class="chapter" data-level="3.5.5" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#selecting-variables-columns-using-select"><i class="fa fa-check"></i><b>3.5.5</b> Selecting variables (columns) using <code>select</code></a></li>
<li class="chapter" data-level="3.5.6" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#adding-new-variables-using-mutate"><i class="fa fa-check"></i><b>3.5.6</b> Adding new variables using <code>mutate</code></a></li>
<li class="chapter" data-level="3.5.7" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#task-4"><i class="fa fa-check"></i><b>3.5.7</b> Task</a></li>
<li class="chapter" data-level="3.5.8" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#answer-3"><i class="fa fa-check"></i><b>3.5.8</b> Answer</a></li>
<li class="chapter" data-level="3.5.9" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#sorting-data-sets-using-arrange"><i class="fa fa-check"></i><b>3.5.9</b> Sorting data sets using <code>arrange</code></a></li>
<li class="chapter" data-level="3.5.10" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#task-5"><i class="fa fa-check"></i><b>3.5.10</b> Task</a></li>
<li class="chapter" data-level="3.5.11" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#answer-4"><i class="fa fa-check"></i><b>3.5.11</b> Answer</a></li>
<li class="chapter" data-level="3.5.12" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#grouping-data-and-calculating-group-wise-summary-statistics-group_by-and-summarise"><i class="fa fa-check"></i><b>3.5.12</b> Grouping data and calculating group-wise summary statistics: <code>group_by</code> and <code>summarise</code></a></li>
<li class="chapter" data-level="3.5.13" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#task-6"><i class="fa fa-check"></i><b>3.5.13</b> Task</a></li>
<li class="chapter" data-level="3.5.14" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#answer-5"><i class="fa fa-check"></i><b>3.5.14</b> Answer</a></li>
<li class="chapter" data-level="3.5.15" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#merging-joining-data-sets-using-the-join-type-functions"><i class="fa fa-check"></i><b>3.5.15</b> Merging (joining) data sets using the <code>join</code>-type functions</a></li>
<li class="chapter" data-level="3.5.16" data-path="efficient-data-manipulation-using-dplyr.html"><a href="efficient-data-manipulation-using-dplyr.html#additional-resources-2"><i class="fa fa-check"></i><b>3.5.16</b> Additional Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="creating-graphics-with-ggplot2.html"><a href="creating-graphics-with-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Creating Graphics with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="ggplot-terms.html"><a href="ggplot-terms.html"><i class="fa fa-check"></i><b>4.1</b> ggplot terms</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="ggplot-terms.html"><a href="ggplot-terms.html#geometric-objects"><i class="fa fa-check"></i><b>4.1.1</b> Geometric objects</a></li>
<li class="chapter" data-level="4.1.2" data-path="ggplot-terms.html"><a href="ggplot-terms.html#aesthetics"><i class="fa fa-check"></i><b>4.1.2</b> Aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="using-the-more-general-ggplot-interface.html"><a href="using-the-more-general-ggplot-interface.html"><i class="fa fa-check"></i><b>4.2</b> Using the more general ggplot interface</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="using-the-more-general-ggplot-interface.html"><a href="using-the-more-general-ggplot-interface.html#a-typical-ggplot-call"><i class="fa fa-check"></i><b>4.2.1</b> A typical ggplot call</a></li>
<li class="chapter" data-level="4.2.2" data-path="using-the-more-general-ggplot-interface.html"><a href="using-the-more-general-ggplot-interface.html#adding-additional-layers"><i class="fa fa-check"></i><b>4.2.2</b> Adding additional layers</a></li>
<li class="chapter" data-level="4.2.3" data-path="using-the-more-general-ggplot-interface.html"><a href="using-the-more-general-ggplot-interface.html#explicit-drawing"><i class="fa fa-check"></i><b>4.2.3</b> Explicit drawing</a></li>
<li class="chapter" data-level="4.2.4" data-path="using-the-more-general-ggplot-interface.html"><a href="using-the-more-general-ggplot-interface.html#task-7"><i class="fa fa-check"></i><b>4.2.4</b> Task</a></li>
<li class="chapter" data-level="4.2.5" data-path="using-the-more-general-ggplot-interface.html"><a href="using-the-more-general-ggplot-interface.html#answer-6"><i class="fa fa-check"></i><b>4.2.5</b> Answer</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="modifying-plots.html"><a href="modifying-plots.html"><i class="fa fa-check"></i><b>4.3</b> Modifying Plots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="modifying-plots.html"><a href="modifying-plots.html#labels-and-titles"><i class="fa fa-check"></i><b>4.3.1</b> Labels and titles</a></li>
<li class="chapter" data-level="4.3.2" data-path="modifying-plots.html"><a href="modifying-plots.html#scales"><i class="fa fa-check"></i><b>4.3.2</b> Scales</a></li>
<li class="chapter" data-level="4.3.3" data-path="modifying-plots.html"><a href="modifying-plots.html#statistics"><i class="fa fa-check"></i><b>4.3.3</b> Statistics</a></li>
<li class="chapter" data-level="4.3.4" data-path="modifying-plots.html"><a href="modifying-plots.html#theming"><i class="fa fa-check"></i><b>4.3.4</b> Theming</a></li>
<li class="chapter" data-level="4.3.5" data-path="modifying-plots.html"><a href="modifying-plots.html#arranging-plots-faceting"><i class="fa fa-check"></i><b>4.3.5</b> Arranging plots (faceting)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="handling-date-time-data-with-lubridate.html"><a href="handling-date-time-data-with-lubridate.html"><i class="fa fa-check"></i><b>5</b> Handling date-time data with <code>lubridate</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="creating-datetimes.html"><a href="creating-datetimes.html"><i class="fa fa-check"></i><b>5.1</b> Creating date/times</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="creating-datetimes.html"><a href="creating-datetimes.html#from-strings"><i class="fa fa-check"></i><b>5.1.1</b> From strings</a></li>
<li class="chapter" data-level="5.1.2" data-path="creating-datetimes.html"><a href="creating-datetimes.html#from-individual-components"><i class="fa fa-check"></i><b>5.1.2</b> From individual components</a></li>
<li class="chapter" data-level="5.1.3" data-path="creating-datetimes.html"><a href="creating-datetimes.html#from-existing-types"><i class="fa fa-check"></i><b>5.1.3</b> From existing types</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="date-time-components.html"><a href="date-time-components.html"><i class="fa fa-check"></i><b>5.2</b> Date-time Components</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="date-time-components.html"><a href="date-time-components.html#time-spans"><i class="fa fa-check"></i><b>5.2.1</b> Time Spans</a></li>
<li class="chapter" data-level="5.2.2" data-path="date-time-components.html"><a href="date-time-components.html#durations"><i class="fa fa-check"></i><b>5.2.2</b> Durations</a></li>
<li class="chapter" data-level="5.2.3" data-path="date-time-components.html"><a href="date-time-components.html#periods"><i class="fa fa-check"></i><b>5.2.3</b> Periods</a></li>
<li class="chapter" data-level="5.2.4" data-path="date-time-components.html"><a href="date-time-components.html#intervals"><i class="fa fa-check"></i><b>5.2.4</b> Intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="producing-maps-for-plotting.html"><a href="producing-maps-for-plotting.html"><i class="fa fa-check"></i><b>6</b> Producing maps for plotting</a>
<ul>
<li class="chapter" data-level="6.1" data-path="producing-maps-using-ggmap.html"><a href="producing-maps-using-ggmap.html"><i class="fa fa-check"></i><b>6.1</b> Producing maps using ggmap</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="producing-maps-using-ggmap.html"><a href="producing-maps-using-ggmap.html#task-8"><i class="fa fa-check"></i><b>6.1.1</b> Task</a></li>
<li class="chapter" data-level="6.1.2" data-path="producing-maps-using-ggmap.html"><a href="producing-maps-using-ggmap.html#answer-7"><i class="fa fa-check"></i><b>6.1.2</b> Answer</a></li>
<li class="chapter" data-level="6.1.3" data-path="producing-maps-using-ggmap.html"><a href="producing-maps-using-ggmap.html#producing-maps-using-leaflet"><i class="fa fa-check"></i><b>6.1.3</b> Producing maps using leaflet</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Visualising Data using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reading-in-data-using-readr" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Reading in data using readr<a href="reading-in-data-using-readr.html#reading-in-data-using-readr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The package <a href="https://cran.r-project.org/web/packages/readr/index.html">readr</a> contains alternatives to the functions <code>read.table</code> and <code>read.csv</code>. The alternative functions from <code>readr</code> have four main advantages.</p>
<ul>
<li>They read in the data a lot faster and can show a progress bar (though this is only relevant for really big data sets).</li>
<li>They store the data straight in a tibble, rather than a data frame.</li>
<li>They allow specifying the intended data type for each column and thus make it easier to identify rows which cause problems.</li>
<li>They are less intrusive: they don’t automatically convert character strings to factors and do not change column names (<code>read.table</code> and <code>read.csv</code> will for example remove spaces from variable names and replace them by full stops). The functions from <code>readr</code> are also guaranteed to give the same result irrespective of the platform or operating system they are run under.</li>
</ul>
<p><code>readr</code> provides the following functions.</p>
<ul>
<li><code>read_csv</code> reads in comma-separated files. <code>read_csv2</code> reads in files which are semicolon-separated (common in countries like France or Germany, where a comma is used as decimal separator).</li>
<li><code>read_tsv</code> reads in tab-separated files.</li>
<li><code>read_delim</code> is the most general function (like <code>read.table</code>). The delimiter has to be specified using the argument <code>delim</code>.</li>
<li><code>read_fwd</code> reads in fixed-width files.</li>
</ul>
<p>All functions assume that the first row contains the column/variable names. If this is not the case, set the optional argument <code>col_names</code> to <code>FALSE</code> or to a character vector containing the intended column names.</p>
<p>The strings used to encode missing values can be specified using the optional argument <code>na</code>.</p>
<p>For example, we can read in the file <a href="https://raw.githubusercontent.com/UofGAnalyticsData/R/main/Week%203/chol.txt">chol.txt</a> using</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="reading-in-data-using-readr.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb26-2"><a href="reading-in-data-using-readr.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_delim</span>(<span class="st">&quot;chol.txt&quot;</span>, <span class="at">delim=</span><span class="st">&quot; &quot;</span>, <span class="at">col_names=</span><span class="fu">c</span>(<span class="st">&quot;ldl&quot;</span>, <span class="st">&quot;hdl&quot;</span>, <span class="st">&quot;trig&quot;</span>,</span>
<span id="cb26-3"><a href="reading-in-data-using-readr.html#cb26-3" aria-hidden="true" tabindex="-1"></a>                                              <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;smoke&quot;</span>))</span></code></pre></div>
<pre><code>## Rows: 13 Columns: 6
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot; &quot;
## chr (2): gender, smoke
## dbl (4): ldl, hdl, trig, age
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre><code>## # A tibble: 13 × 6
##      ldl   hdl  trig   age gender smoke    
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
##  1   175    25   148    39 female no       
##  2   196    36    92    32 female no       
##  3   139    65    NA    42 male   &lt;NA&gt;     
##  4   162    37   139    30 female ex-smoker
##  5   140   117    59    42 female ex-smoker
##  6   147    51   126    65 female ex-smoker
##  7    82    81    NA    57 male   no       
##  8   165    63   120    48 male   current  
##  9   149    49    NA    32 female no       
## 10    95    54   157    55 female ex-smoker
## 11   169    59    67    48 female no       
## 12   174   117   168    41 female no       
## 13    91    52   146    69 female current</code></pre>
<p>Note that functions from <code>readr</code> show the data type it has used for each column. This makes it easier to spot mistakes like missing values not coded as expected, in which case a numeric column would show up as a character string.</p>
<p>For example, we can read in the file <a href="https://github.com/UofGAnalyticsData/R/raw/main/Week%203/chol.csv">chol.csv</a> using</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="reading-in-data-using-readr.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb29-2"><a href="reading-in-data-using-readr.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;chol.csv&quot;</span>, <span class="at">na=</span><span class="st">&quot;.&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 13 Columns: 6
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (2): gender, smoke
## dbl (4): ldl, hdl, trig, age
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre><code>## # A tibble: 13 × 6
##      ldl   hdl  trig   age gender smoke    
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
##  1   175    25   148    39 female no       
##  2   196    36    92    32 female no       
##  3   139    65    NA    42 male   NA       
##  4   162    37   139    30 female ex-smoker
##  5   140   117    59    42 female ex-smoker
##  6   147    51   126    65 female ex-smoker
##  7    82    81    NA    57 male   no       
##  8   165    63   120    48 male   current  
##  9   149    49    NA    32 female no       
## 10    95    54   157    55 female ex-smoker
## 11   169    59    67    48 female no       
## 12   174   117   168    41 female no       
## 13    91    52   146    69 female current</code></pre>
<div id="task-2" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Task<a href="reading-in-data-using-readr.html#task-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Read the data files <a href="https://github.com/UofGAnalyticsData/R/raw/main/Week%203/cars.csv">cars.csv</a> and <a href="https://github.com/UofGAnalyticsData/R/raw/main/Week%203/ships.txt">ships.txt</a> into R using the functions from <code>readr</code>.</p>
</div>
<div id="answer-1" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Answer<a href="reading-in-data-using-readr.html#answer-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first line of the file <code>cars.csv</code> contains the variable names and the fields are separated by commas. Missing values are encoded as asterisks.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="reading-in-data-using-readr.html#cb32-1" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;cars.csv&quot;</span>, <span class="at">na=</span><span class="st">&quot;*&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 20 Columns: 5
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (2): Manufacturer, Model
## dbl (3): MPG, Displacement, Horsepower
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="reading-in-data-using-readr.html#cb34-1" aria-hidden="true" tabindex="-1"></a>cars</span></code></pre></div>
<pre><code>## # A tibble: 20 × 5
##    Manufacturer Model     MPG Displacement Horsepower
##    &lt;chr&gt;        &lt;chr&gt;   &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Chevrolet    Camaro     19          3.4        160
##  2 Oldsmobile   Achieva    NA          2.3        155
##  3 Dodge        Spirit     22          2.5        100
##  4 Chevrolet    Astro      NA          4.3        165
##  5 Chevrolet    Corsica    25          2.2        110
##  6 Volkswagen   Corrado    18          2.8        178
##  7 Dodge        Stealth    18          3          300
##  8 Volkswagen   Fox        25          1.8         81
##  9 Cadillac     DeVille    16          4.9        200
## 10 Hyundai      Excel      29          1.5         81
## 11 Toyota       Tercel     32          1.5         82
## 12 Dodge        Colt       29          1.5         92
## 13 Volkswagen   Passat     21          2          134
## 14 Geo          Storm      30          1.6         90
## 15 Toyota       Previa     18          2.4        138
## 16 Nissan       Sentra     29          1.6        110
## 17 Toyota       Celica     25          2.2        135
## 18 Honda        Civic      42          1.5        102
## 19 Dodge        Caravan    17          3          142
## 20 Hyundai      Sonata     20          2          128</code></pre>
<p>We could have also used the function <code>read_delim</code>.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="reading-in-data-using-readr.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_delim</span>(<span class="st">&quot;cars.csv&quot;</span>, <span class="at">delim=</span><span class="st">&quot;,&quot;</span>, <span class="at">na=</span><span class="st">&quot;*&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 20 Columns: 5
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (2): Manufacturer, Model
## dbl (3): MPG, Displacement, Horsepower
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre><code>## # A tibble: 20 × 5
##    Manufacturer Model     MPG Displacement Horsepower
##    &lt;chr&gt;        &lt;chr&gt;   &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Chevrolet    Camaro     19          3.4        160
##  2 Oldsmobile   Achieva    NA          2.3        155
##  3 Dodge        Spirit     22          2.5        100
##  4 Chevrolet    Astro      NA          4.3        165
##  5 Chevrolet    Corsica    25          2.2        110
##  6 Volkswagen   Corrado    18          2.8        178
##  7 Dodge        Stealth    18          3          300
##  8 Volkswagen   Fox        25          1.8         81
##  9 Cadillac     DeVille    16          4.9        200
## 10 Hyundai      Excel      29          1.5         81
## 11 Toyota       Tercel     32          1.5         82
## 12 Dodge        Colt       29          1.5         92
## 13 Volkswagen   Passat     21          2          134
## 14 Geo          Storm      30          1.6         90
## 15 Toyota       Previa     18          2.4        138
## 16 Nissan       Sentra     29          1.6        110
## 17 Toyota       Celica     25          2.2        135
## 18 Honda        Civic      42          1.5        102
## 19 Dodge        Caravan    17          3          142
## 20 Hyundai      Sonata     20          2          128</code></pre>
<p>The first line of the file <code>ships.txt</code> contains the variable names and the fields are separated by whitespace. Missing values are encoded as “.”.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="reading-in-data-using-readr.html#cb39-1" aria-hidden="true" tabindex="-1"></a>ships <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;ships.txt&quot;</span>, <span class="at">delim=</span><span class="st">&#39; &#39;</span> , <span class="at">na=</span><span class="st">&quot;.&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 40 Columns: 5
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot; &quot;
## chr (1): type
## dbl (4): year, period, service, incidents
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="reading-in-data-using-readr.html#cb41-1" aria-hidden="true" tabindex="-1"></a>ships</span></code></pre></div>
<pre><code>## # A tibble: 40 × 5
##    type   year period service incidents
##    &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;
##  1 A        60     60     127         0
##  2 A        60     75      63         0
##  3 A        65     60      NA         3
##  4 A        65     75    1095         4
##  5 A        70     60    1512         6
##  6 A        70     75    3353        18
##  7 A        75     60       0         0
##  8 A        75     75    2244        11
##  9 B        60     60   44882        39
## 10 B        60     75   17176        29
## # … with 30 more rows</code></pre>
</div>
<div id="specifying-column-types" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Specifying column types<a href="reading-in-data-using-readr.html#specifying-column-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The functions from <code>readr</code> allow specifying the expected column types. This is especially important when writing which will then be run automatically. It provides an easy way of ensuring that the data provided is of the expected format.</p>
<p>The easiest way of specifying expected column types is to provide a character string with each letters standing for a column</p>
<table>
<thead>
<tr class="header">
<th>Letter</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>c</code></td>
<td>character</td>
</tr>
<tr class="even">
<td><code>i</code></td>
<td>integer</td>
</tr>
<tr class="odd">
<td><code>n</code></td>
<td>number</td>
</tr>
<tr class="even">
<td><code>d</code></td>
<td>double</td>
</tr>
<tr class="odd">
<td><code>l</code></td>
<td>logical</td>
</tr>
<tr class="even">
<td><code>D</code></td>
<td>date</td>
</tr>
<tr class="odd">
<td><code>T</code></td>
<td>date time</td>
</tr>
<tr class="even">
<td><code>t</code></td>
<td>time</td>
</tr>
<tr class="odd">
<td><code>?</code></td>
<td>guess the type</td>
</tr>
<tr class="even">
<td><code>_</code> or <code>-</code></td>
<td>skip the column</td>
</tr>
</tbody>
</table>
<p>So for the data file chol.csv we would expect the first four columns to be integers and the latter two to be character strings, so we would use</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="reading-in-data-using-readr.html#cb43-1" aria-hidden="true" tabindex="-1"></a>chol <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;chol.csv&quot;</span>, <span class="at">na=</span><span class="st">&quot;.&quot;</span>, <span class="at">col_types=</span><span class="st">&quot;iiiicc&quot;</span>)</span></code></pre></div>
<p>Specifying the expected column types can help pinpointing problems when reading in data. Suppose we had forgotten that missing values are coded using “<code>.</code>” in this data file. If we use …</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="reading-in-data-using-readr.html#cb44-1" aria-hidden="true" tabindex="-1"></a>chol <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;chol.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 13 Columns: 6
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (3): trig, gender, smoke
## dbl (3): ldl, hdl, age
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>… we can see from the output that <code>trig</code> was read in as a character string, but we do not know why.</p>
<p>However, if we use …</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="reading-in-data-using-readr.html#cb46-1" aria-hidden="true" tabindex="-1"></a>chol <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;chol.csv&quot;</span>, <span class="at">col_types=</span><span class="st">&quot;iiiicc&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: One or more parsing issues, call `problems()` on your data frame for details,
## e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<p>… we obtain a warning and can print the problematic rows using</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="reading-in-data-using-readr.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">problems</span>(chol)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##     row   col expected   actual file                                            
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;                                           
## 1     4     3 an integer .      /Users/staff/Documents/GitHub/Creating_Question…
## 2     8     3 an integer .      /Users/staff/Documents/GitHub/Creating_Question…
## 3    10     3 an integer .      /Users/staff/Documents/GitHub/Creating_Question…</code></pre>
<p>The output from <code>problems</code> shows us that for three rows (3, 7 and 9) the data in <code>chol.csv</code> was not of the expected format: a value of <code>.</code> is not compatible with the column being numeric. This makes it easy to identify the cause of the problem (NAs coded as “<code>.</code>”) and rectify the issue.</p>
</div>
<div id="additional-resources-1" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Additional Resources<a href="reading-in-data-using-readr.html#additional-resources-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="%22https://github.com/rstudio/cheatsheets/raw/main/data-import.pdf%22">Data Import Cheat Sheet</a>
RStudio’s cheat sheet for data import also covers <code>readr</code>.</p>
<p><a href="%22http://r4ds.had.co.nz/data-import.html%22">Background reading: Chapter 11 of R for Data Science</a>
Chapter 11 of <em>R for Data Science</em> gives a detailed overview of the functions in <code>readr</code>. It explains in some more detail how the functions in <code>readr</code> parse files. over pipes and also covers the functions from <code>readr</code> that dead with writing files.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tibbles.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="efficient-data-manipulation-using-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-tidyverse.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
